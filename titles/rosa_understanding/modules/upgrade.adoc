:system-module-type: CONCEPT
// Module included in the following assemblies:
//
// * assemblies/upgrades.adoc

[id="upgrade_{context}"]

= Understanding {product-title} cluster upgrades

[role="_abstract"]
When upgrades are made available for your {product-title} cluster, you can upgrade to the newest version through the OpenShift Cluster Manager (OCM) or the OCM CLI. You can set your upgrade policies on existing clusters or during cluster creation, and upgrades can be scheduled to occur automatically or manually.

Red Hat Site Reliability Engineers (SRE) will provide a curated list of available versions for your {product-title} clusters. For each cluster you will be able to review the full list of available releases, as well as the corresponding release notes. OCM will enable installation of clusters at the latest supported versions, and upgrades can be cancelled at any time.

You can also set a grace period for how long `PodDisruptionBudget` protected workloads will be respected during upgrades. After this grace period, any workloads protected by  `PodDisruptionBudget` that have not been successfully drained from a node, will be forcibly deleted.

[NOTE]
====
All Kubernetes objects and PVs in each {product-title} cluster are backed up as part of the {product-title} service. Application and application data backups are not a part of the {product-title} service. Ensure you have a backup policy in place for your applications and application data prior to scheduling upgrades.
====

== Automatic upgrades

Upgrades can be scheduled to occur automatically on a day and time specified by the cluster owner or administrator. Upgrades occur on a weekly basis, unless an upgrade is unavailable for that week.

[NOTE]
====
Automatic upgrade policies are optional and if they are not set, the upgrade policies will default to manual.
====

== Manual upgrades

If you opt for manual upgrades, you are responsible for updating your cluster. However, if your cluster version falls too far behind, it will be automatically updated. For more information on OpenShift life cycle policies, see link:https://access.redhat.com/support/policy/updates/openshift[version support].

== Upgrade notifications

From the OCM console you can view your cluster's history from the *Overview* tab. The Upgrade states can be viewed in the service log under the *Cluster history* heading.

Every change of state will also trigger an email notification to the cluster owner and subscribed users. You will receive email notifications for the following events:

- An upgrade has been scheduled.
- An upgrade has started.
- An upgrade has completed.
- An upgrade has been cancelled.

+
[NOTE]
====
For automatic upgrades, you will also receive email notifications before the upgrade occurs based on the following cadence:

- 2 week notice
- 1 week notice
- 1 day notice

====

== CVE
In the event that a CVE or other issue critical to OpenShift Dedicated is found, all clusters will be upgraded within 48 hours of the fix being released. You will be notified when the fix is available and informed that the cluster will be automatically upgraded at your latest preferred start time before the 48 hour window closes. You can also upgrade manually at any time before the automatic upgrade starts.

The following notifications will be received in the event that CVE is found:

- CVE announcement
- CVE upgrade scheduled
- CVE upgrade commence
- CVE upgrade completed

At any time, you may upgrade your cluster manually from OCM.
